# [Refactoring] ë°˜ë³µì ì¸ Form ì´ˆê¸°í™” ë¡œì§ì˜ ìë™í™” ë° êµ¬ì¡°í™”

ì…ë ¥ í¼(Form)ì˜ í•„ë“œê°€ ëŠ˜ì–´ë‚¨ì— ë”°ë¼ ë°œìƒí•˜ëŠ” ìœ ì§€ë³´ìˆ˜ ë¹„íš¨ìœ¨ì„ í•´ê²°í•˜ê¸° ìœ„í•´, ê°ì²´ êµ¬ì¡°ë¥¼ ë‹¨ì¼í™”í•˜ê³  ì´ˆê¸°í™” ë¡œì§ì„ ê°œì„ í•œ ê¸°ë¡ì…ë‹ˆë‹¤.

---

## 1. ë¬¸ì œ ìƒí™© (As-Is)
ì´ˆê¸°ì—ëŠ” í¼ ìƒíƒœë¥¼ ë¦¬ì…‹í•˜ê¸° ìœ„í•´ ëª¨ë“  í•„ë“œë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë‹¤ì‹œ í• ë‹¹í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•¨.

```javascript
// ê¸°ì¡´ ë°©ì‹: í•„ë“œ í•˜ë‚˜í•˜ë‚˜ ìˆ˜ë™ ì¬í• ë‹¹
const agentForm = ref({
  agentId: '',
  agentNm: '',
  agentTypeCd: 'learning',
  // ... í•„ë“œê°€ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ì•„ë˜ reset í•¨ìˆ˜ë„ ê¸¸ì–´ì§
});

const resetAgentForm = () => {
  agentForm.value = {
    agentId: '',
    agentNm: '',
    agentTypeCd: 'learning', // ì—¬ê¸°ì„œ ì˜¤íƒ€ê°€ ë‚˜ê±°ë‚˜ ëˆ„ë½í•˜ë©´ ë²„ê·¸ ë°œìƒ
    // ... ë˜‘ê°™ì€ ë‚´ìš©ì„ í•œ ë²ˆ ë” ì¤‘ë³µ ì‘ì„±
  };
};
```

ğŸ§ ë¬¸ì œì 
 * ì½”ë“œ ì¤‘ë³µ: ë™ì¼í•œ ê°ì²´ êµ¬ì¡°ê°€ ì •ì˜ë¶€ì™€ ì´ˆê¸°í™” í•¨ìˆ˜ì— ì¤‘ë³µ ì¡´ì¬í•©ë‹ˆë‹¤.
 * ìœ ì§€ë³´ìˆ˜ ìœ„í—˜: ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ê±°ë‚˜ ì´ë¦„ì´ ë³€ê²½ë  ë•Œ ë‘ ê³³ì„ ëª¨ë‘ ìˆ˜ì •í•´ì•¼ í•˜ë©°, ëˆ„ë½ ì‹œ íŠ¹ì • í•„ë“œê°€ ë¦¬ì…‹ë˜ì§€ ì•ŠëŠ” ë²„ê·¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.

---

## 2. í•´ê²° ê³¼ì • ë° ê°œì„  (To-Be)
**ì „ê°œ ì—°ì‚°ì(Spread Operator, ...)**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ˆê¸° ìƒíƒœë¥¼ ìƒìˆ˜ë¡œ ë¶„ë¦¬, ì´ë¥¼ ë³µì‚¬í•˜ì—¬ í• ë‹¹í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë¦¬íŒ©í† ë§í•¨.

- ê°œì„  í¬ì¸íŠ¸: initialAgentFormì„ ì§ì ‘ í• ë‹¹í•˜ì§€ ì•Šê³  ...(Spread) ì—°ì‚°ìë¡œ ê°ì‹¸ ìƒˆë¡œìš´ ê°ì²´ ë¦¬í„°ëŸ´ {} ì•ˆì— í¼ì³ ë‹´ì•˜ìŠµë‹ˆë‹¤.
ì›ë³¸ ê°ì²´ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ë³µì‚¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‚´ë¶€ ê°’ë“¤ë§Œ ë³µì œí•˜ì—¬ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

```javascript
// ê°œì„  ë°©ì‹: ì´ˆê¸° ìƒíƒœ ê°ì²´(Initial State)ë¥¼ ìƒìˆ˜ë¡œ ë‹¨ì¼í™”
const initialAgentForm = {
  agentId: '',
  agentNm: '',
  agentTypeCd: 'learning',
  brokerInterface: '',
  brokerUrl: '',
  // ... ëª¨ë“  ì´ˆê¸°ê°’ êµ¬ì¡°ë¥¼ í•œ ê³³ì—ì„œ ì •ì˜
};

// 1. ì´ˆê¸°ê°’ í• ë‹¹
const agentForm = ref({ ...initialAgentForm });

// 2. ì´ˆê¸°í™” í•¨ìˆ˜ ë‹¨ìˆœí™”
const resetAgentForm = () => {
  // ì „ê°œ ì—°ì‚°ìë¥¼ í†µí•œ ë³µì‚¬ë¡œ ì›ë³¸ ìƒìˆ˜ë¥¼ ë³´ì¡´í•˜ë©° ìƒíƒœë§Œ ë¦¬ì…‹
  agentForm.value = { ...initialAgentForm };
};
```

---

## 3. ë¦¬íŒ©í† ë§ í•µì‹¬ í¬ì¸íŠ¸
âœ… ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì› (Single Source of Truth)
ë°ì´í„°ì˜ êµ¬ì¡°ì™€ ì´ˆê¸°ê°’ì„ initialAgentFormì´ë¼ëŠ” í•œ ê³³ì—ì„œë§Œ ê´€ë¦¬í•©ë‹ˆë‹¤.

í•„ë“œ ì¶”ê°€ ì‹œ í•´ë‹¹ ìƒìˆ˜ë§Œ ìˆ˜ì •í•˜ë©´ ì •ì˜ì™€ ì´ˆê¸°í™” ë¡œì§ì— ì¦‰ì‹œ ë°˜ì˜ë˜ì–´ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•´ì¡ŒìŠµë‹ˆë‹¤.

âœ… ì°¸ì¡° ë¬´ê²°ì„± ë° ë¶ˆë³€ì„±(Immutability) ìœ ì§€
agentForm.value = initialAgentFormê³¼ ê°™ì´ ì§ì ‘ í• ë‹¹í•˜ë©´ ë‘ ë³€ìˆ˜ê°€ ê°™ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê³µìœ (ì°¸ì¡°)í•˜ê²Œ ë˜ì–´ ì›ë³¸ ë°ì´í„°ê°€ ì˜¤ì—¼ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

{ ...initialAgentForm }ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¡œ ë³µì‚¬í•´ í• ë‹¹í•¨ìœ¼ë¡œì¨, ì›ë³¸ì„ ë³´ì¡´í•˜ê³  Vueì˜ ë°˜ì‘ì„±(Reactivity) ì‹œìŠ¤í…œì´ ë°ì´í„° ë³€ê²½ì„ ì •í™•íˆ ê°ì§€í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

---

## 4. ì„±ê³¼ ë° íšŒê³ 
ë‹¨ìˆœíˆ ì½”ë“œê°€ ì§§ì•„ì§„ ê²ƒ ì´ìƒì˜ íš¨ê³¼.

ìƒì‚°ì„±: ìƒˆë¡œìš´ í•„ë“œ ì¶”ê°€ ì‹œ ê²€í† í•´ì•¼ í•  ì½”ë“œ ë²”ìœ„ê°€ 50% ì´ìƒ ì¤„ì–´ë“¬.

ì•ˆì •ì„±: ìˆ˜ë™ ë¦¬ì…‹ ê³¼ì •ì—ì„œ ë°œìƒí•˜ë˜ íœ´ë¨¼ ì—ëŸ¬(í•„ë“œ ëˆ„ë½)ë¥¼ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨.

---

> **ì—°ê´€ íŒ¨í„´:** [ê°ì²´ ì „ê°œ ì—°ì‚°ìë¥¼ í™œìš©í•œ Form ìƒíƒœ ê´€ë¦¬ íŒ¨í„´](../../patterns/form/form-management.md)
